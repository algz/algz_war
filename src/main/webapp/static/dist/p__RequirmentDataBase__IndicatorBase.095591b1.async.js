(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[81],{64317:function(Y,B,a){"use strict";var D=a(67294),y=a(94573),W=a(22270),K=a(64893);function v(){return v=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},v.apply(this,arguments)}function M(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,n)}return e}function g(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?M(Object(e),!0).forEach(function(n){m(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):M(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function m(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var b=D.forwardRef(function(t,r){var e=t.fieldProps,n=t.children,s=t.params,f=t.proFieldProps,p=t.mode,C=t.valueEnum,O=t.request,E=t.showSearch,I=t.options;return D.createElement(y.ZP,v({mode:"edit",valueEnum:(0,W.h)(C),request:O,params:s,valueType:"select",fieldProps:g({options:I,mode:p,showSearch:E},e),ref:r},f),n)}),w=D.forwardRef(function(t,r){var e=t.fieldProps,n=t.children,s=t.params,f=t.proFieldProps,p=t.mode,C=t.valueEnum,O=t.request,E=t.options,I=g({options:E,mode:p||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},e);return D.createElement(y.ZP,v({mode:"edit",valueEnum:(0,W.h)(C),request:O,params:s,valueType:"select",fieldProps:I,ref:r},f),n)}),u=(0,K.Z)(b,{customLightMode:!0}),i=(0,K.Z)(w,{customLightMode:!0}),o=u;o.SearchSelect=i,B.Z=o},90672:function(Y,B,a){"use strict";var D=a(67294),y=a(94573),W=a(64893),K=["fieldProps","proFieldProps"];function v(){return v=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},v.apply(this,arguments)}function M(i,o){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);o&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,r)}return t}function g(i){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{};o%2?M(Object(t),!0).forEach(function(r){m(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function m(i,o,t){return o in i?Object.defineProperty(i,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[o]=t,i}function b(i,o){if(i==null)return{};var t=w(i,o),r,e;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);for(e=0;e<n.length;e++)r=n[e],!(o.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function w(i,o){if(i==null)return{};var t={},r=Object.keys(i),e,n;for(n=0;n<r.length;n++)e=r[n],!(o.indexOf(e)>=0)&&(t[e]=i[e]);return t}var u=function(o,t){var r=o.fieldProps,e=o.proFieldProps,n=b(o,K);return D.createElement(y.ZP,v({text:r==null?void 0:r.value,ref:t,mode:"edit",valueType:"textarea",fieldProps:g(g({},r),{},{onChange:function(){for(var f,p,C=arguments.length,O=new Array(C),E=0;E<C;E++)O[E]=arguments[E];r==null||(f=r.onChange)===null||f===void 0||f.call.apply(f,[r].concat(O)),n==null||(p=n.onChange)===null||p===void 0||p.call.apply(p,[n].concat(O))}})},e))};B.Z=(0,W.Z)(D.forwardRef(u))},5966:function(Y,B,a){"use strict";var D=a(67294),y=a(94573),W=a(64893),K=["fieldProps","proFieldProps"];function v(){return v=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},v.apply(this,arguments)}function M(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),n.push.apply(n,s)}return n}function g(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(s){m(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function m(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function b(r,e){if(r==null)return{};var n=w(r,e),s,f;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);for(f=0;f<p.length;f++)s=p[f],!(e.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(n[s]=r[s]))}return n}function w(r,e){if(r==null)return{};var n={},s=Object.keys(r),f,p;for(p=0;p<s.length;p++)f=s[p],!(e.indexOf(f)>=0)&&(n[f]=r[f]);return n}var u="text",i=(0,W.Z)(function(r){var e=r.fieldProps,n=r.proFieldProps,s=b(r,K);return D.createElement(y.ZP,v({mode:"edit",valueType:u,fieldProps:g(g({},e),{},{onChange:function(){for(var p,C,O=arguments.length,E=new Array(O),I=0;I<O;I++)E[I]=arguments[I];e==null||(p=e.onChange)===null||p===void 0||p.call.apply(p,[e].concat(E)),s==null||(C=s.onChange)===null||C===void 0||C.call.apply(C,[s].concat(E))}})},n))},{valueType:u}),o=(0,W.Z)(function(r){var e=r.fieldProps,n=r.proFieldProps;return D.createElement(y.ZP,v({mode:"edit",valueType:"password",fieldProps:e},n))},{valueType:u}),t=i;t.Password=o,B.Z=t},48960:function(Y,B,a){"use strict";a.r(B),a.d(B,{default:function(){return ye}});var D=a(58024),y=a(39144),W=a(48736),K=a(27049),v=a(86582),M=a(34792),g=a(48086),m=a(3182),b=a(2824),w=a(94043),u=a.n(w),i=a(75362),o=a(67294),t=a(32157),r=a(87524),e=a(85893),n=(0,o.forwardRef)(function(c,d){(0,o.useImperativeHandle)(d,function(){return{childHandleClick:h}});var h=function(V){console.log("\u6211\u662F\u5B50\u7EC4\u4EF6")},l=[{title:"\u52A8\u529B/\u8F85\u52A9\u52A8\u529B",key:"1",isLeaf:!0},{title:"\u4F5C\u52A8",key:"2",isLeaf:!0},{title:"\u73AF\u63A7",key:"3",isLeaf:!0},{title:"\u4F9B\u7535",key:"4",isLeaf:!0},{title:"\u71C3\u6CB9",key:"5",isLeaf:!0}];return(0,o.useEffect)(function(){(0,m.Z)(u().mark(function L(){return u().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:try{console.log("\u6211\u662F\u5B50\u7EC4\u4EF6")}catch(T){console.error(T)}case 1:case"end":return Z.stop()}},L)}))()},[]),(0,e.jsx)(r.Z,{showLine:!0,showIcon:!1,onClick:c.onTreeClick,treeData:l})}),s=a(57663),f=a(71577),p=a(19595),C=a(49101),O=a(48971);function E(c){return I.apply(this,arguments)}function I(){return I=(0,m.Z)(u().mark(function c(d){return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.WY)("/algz/indicatorbase/indicatortable",{params:d}));case 1:case"end":return l.stop()}},c)})),I.apply(this,arguments)}function we(c){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime.mark(function c(d){return _regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/algz/indicatormanager/saveindicator",{method:"POST",params:d}));case 1:case"end":return l.stop()}},c)})),J.apply(this,arguments)}function le(c){return Q.apply(this,arguments)}function Q(){return Q=(0,m.Z)(u().mark(function c(d){return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.WY)("/algz/indicatormanager/delindicator",{method:"POST",params:d}));case 1:case"end":return l.stop()}},c)})),Q.apply(this,arguments)}function oe(c){return X.apply(this,arguments)}function X(){return X=(0,m.Z)(u().mark(function c(d){return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.WY)("/algz/indicatorbase/semanticstable",{method:"POST",params:d}));case 1:case"end":return l.stop()}},c)})),X.apply(this,arguments)}function ie(c){return k.apply(this,arguments)}function k(){return k=(0,m.Z)(u().mark(function c(d){return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.WY)("/algz/indicatorbase/addindicatorsemantics",{method:"POST",requestType:"form",params:d}));case 1:case"end":return l.stop()}},c)})),k.apply(this,arguments)}function ue(c){return q.apply(this,arguments)}function q(){return q=(0,m.Z)(u().mark(function c(d){return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.WY)("/algz/indicatorbase/delindicatorsemantics",{method:"POST",requestType:"form",params:d}));case 1:case"end":return l.stop()}},c)})),q.apply(this,arguments)}function se(c){return ee.apply(this,arguments)}function ee(){return ee=(0,m.Z)(u().mark(function c(d){return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.WY)("/algz/indicatorbase/indicatorsemantics",{params:d}));case 1:case"end":return l.stop()}},c)})),ee.apply(this,arguments)}var ce=a(13983),Ee=a(9715),de=a(86585),pe=a(37476),fe=a(5966),me=a(90672),te=a(64317),ve=function(d){var h=(0,o.useState)(!0),l=(0,b.Z)(h,2),L=l[0],V=l[1],Z=de.Z.useForm(),T=(0,b.Z)(Z,1),H=T[0];return(0,e.jsxs)(pe.Z,{form:H,title:"\u6307\u6807\u7A97\u53E3",width:"800px",layout:"horizontal",labelCol:{span:4},wrapperCol:{span:14},modalProps:{onCancel:function(){var $=(0,m.Z)(u().mark(function _(){return u().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:case"end":return P.stop()}},_)}));function S(){return $.apply(this,arguments)}return S}()},visible:d.modalVisible,onVisibleChange:function(){var $=(0,m.Z)(u().mark(function S(_){return u().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:_&&(H.resetFields(),V(!1),d.currentRecord!=null&&V(!0)),d.onVisibleChange(_);case 2:case"end":return P.stop()}},S)}));return function(S){return $.apply(this,arguments)}}(),onFinish:function(){var $=(0,m.Z)(u().mark(function S(_){var F;return u().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:F=g.default.loading("\u6B63\u5728\u63D0\u4EA4");try{F(),g.default.success("\u63D0\u4EA4\u6210\u529F\uFF01"),d.onVisibleChange(!1),d.updateParentTable()}catch(re){F(),g.default.error("\u63D0\u4EA4\u5931\u8D25,\u8BF7\u518D\u8BD5\u4E00\u6B21\uFF01")}case 2:case"end":return U.stop()}},S)}));return function(S){return $.apply(this,arguments)}}(),initialValues:{},children:[(0,e.jsx)(fe.Z,{fieldProps:{disabled:L},name:"username",label:"\u540D\u79F0\uFF1A",width:"md",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",rules:[{required:!0}]}),(0,e.jsx)(me.Z,{name:"name",label:"\u63CF\u8FF0\uFF1A",width:"md",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}),(0,e.jsx)(te.Z,{name:"authoritienName",label:"\u7C7B\u578B\uFF1A",placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B!"}],valueEnum:{never:"\u65E0",text:"\u6587\u672C(a,b,c...)",number:"\u6570\u503C(1,2,3...)",boolean:"\u5E03\u5C14(\u662F,\u5426)"}}),(0,e.jsx)(te.Z,{name:"unit",label:"\u5355\u4F4D\uFF1A",placeholder:"\u8BF7\u9009\u62E9\u5355\u4F4D",options:[{label:"\u65E0",value:""},{label:"kw",value:"kw"},{label:"Hz",value:"Hz"},{label:"km",value:"km"},{label:"Ma",value:"Ma"},{label:"rad/min",value:"rad/min"},{label:"w/cm",value:"w/cm"},{label:"V",value:"V"}]})]})},he=ve,Pe=(0,o.forwardRef)(function(c,d){var h,l=(0,o.useState)(!1),L=(0,b.Z)(l,2),V=L[0],Z=L[1],T=(0,o.useState)(),H=(0,b.Z)(T,2),$=H[0],S=H[1],_=[{title:"\u6307\u6807\u540D\u79F0",dataIndex:"name",valueType:"textarea"},{title:"\u7C7B\u578B",dataIndex:"valtype",valueType:"textarea"},{title:"\u5355\u4F4D",dataIndex:"valtype",valueType:"textarea"},{title:"\u9700\u6C42\u63CF\u8FF0",dataIndex:"description"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(P,U,re,ne){return[(0,e.jsx)("a",{onClick:function(z){Z(!0),S(U)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(ce.Z,{text:"\u5220\u9664",tableRef:d,record:U,onConfirm:le},"del")]}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.ZP,{actionRef:d,headerTitle:"\u660E\u7EC6",rowKey:"id",search:!1,onRow:function(P){return{onClick:function(){c.onClick(P)}}},tableAlertRender:!1,rowSelection:{type:"radio",hideSelectAll:!0,selectedRowKeys:[((h=c.currentRow)===null||h===void 0?void 0:h.id)+""]},request:c.onTableReuqest,columns:_,pagination:!1,toolBarRender:function(){return[(0,e.jsxs)(f.Z,{type:"primary",onClick:function(){Z(!0),S(null)},children:[(0,e.jsx)(C.Z,{})," \u65B0\u5EFA"]},"primary")]}}),(0,e.jsx)(he,{modalVisible:V,onVisibleChange:Z,currentRecord:$,updateParentTable:function(){var P;(P=d.current)===null||P===void 0||P.reload()}})]})}),ge=Pe,Oe=(0,o.forwardRef)(function(c,d){var h=[{title:"\u8BED\u4E49\u540D\u79F0",dataIndex:"name"}];return(0,e.jsx)(p.ZP,{actionRef:d,tableAlertRender:!1,rowSelection:{type:"checkbox",columnTitle:" ",selectedRowKeys:c.selectedRowKeys,onSelect:c.onRowSelection},rowKey:"id",search:!1,request:c.onTableReuqest,columns:h,pagination:!1,options:!1})}),be=Oe,ye=function(){var c=(0,o.useRef)(),d=(0,o.useState)("1"),h=(0,b.Z)(d,2),l=h[0],L=h[1],V=(0,o.useState)(),Z=(0,b.Z)(V,2),T=Z[0],H=Z[1],$=(0,o.useState)([]),S=(0,b.Z)($,2),_=S[0],F=S[1],P=function(j,A){var x;L(A.key),(x=c.current)===null||x===void 0||x.reload()},U=function(){var z=(0,m.Z)(u().mark(function j(A,x,N){return u().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,E({parentId:l});case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},j)}));return function(A,x,N){return z.apply(this,arguments)}}(),re=function(){var z=(0,m.Z)(u().mark(function j(A){var x;return u().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return H(A),G.next=3,se({indicatorId:A.id});case 3:return x=G.sent,G.next=6,F(x);case 6:case"end":return G.stop()}},j)}));return function(A){return z.apply(this,arguments)}}(),ne=function(){var z=(0,m.Z)(u().mark(function j(A,x,N){return u().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,oe({});case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},j)}));return function(A,x,N){return z.apply(this,arguments)}}(),ae=function(j,A){if(T==null){g.default.error("\u8BF7\u9009\u62E9\u6307\u6807\uFF01");return}if(A)ie({indicatorId:T==null?void 0:T.id,semanticsId:j.id}),F([].concat((0,v.Z)(_),[j.id])),g.default.success("\u9009\u62E9\u6210\u529F\uFF01");else{ue({indicatorId:T==null?void 0:T.id,semanticsId:j.id});var x=_.indexOf(j.id,0);_.splice(x,1),F((0,v.Z)(_)),g.default.success("\u53D6\u6D88\u6210\u529F\uFF01")}};return(0,e.jsx)(i.ZP,{children:(0,e.jsxs)(y.Z,{children:[(0,e.jsxs)(y.Z.Grid,{style:{width:"15%"},children:[(0,e.jsx)(K.Z,{orientation:"left",children:"\u7C7B\u522B"}),(0,e.jsx)(n,{onTreeClick:P})]}),(0,e.jsx)(y.Z.Grid,{style:{width:"55%"},children:(0,e.jsx)(ge,{ref:c,parentId:l,currentRow:T,onClick:re,onTableReuqest:U})}),(0,e.jsxs)(y.Z.Grid,{style:{width:"30%"},children:[(0,e.jsx)(K.Z,{orientation:"left",children:"\u5173\u8054\u8BED\u4E49"}),(0,e.jsx)(be,{selectedRowKeys:_,onRowSelection:ae,onTableReuqest:ne})]})]})})}},13983:function(Y,B,a){"use strict";var D=a(62350),y=a(75443),W=a(11849),K=a(34792),v=a(48086),M=a(3182),g=a(94043),m=a.n(g),b=a(85893);B.Z=function(w){return(0,b.jsx)(y.Z,{title:"\u662F\u5426".concat(w.text,"\u8FD9\u4E2A\u9879\u76EE\uFF1F"),onConfirm:(0,M.Z)(m().mark(function u(){var i;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=v.default.loading("\u6B63\u5728".concat(w.text)),t.prev=1,t.next=4,w.onConfirm((0,W.Z)({},w.record));case 4:return i(),v.default.success("\u6210\u529F\uFF01"),w.tableRef.current.reload(),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),i(),v.default.error("\u5931\u8D25,\u8BF7\u518D\u8BD5\u4E00\u6B21\uFF01"),t.abrupt("return",!1);case 15:case"end":return t.stop()}},u,null,[[1,10]])})),okText:"\u662F",cancelText:"\u5426",children:(0,b.jsx)("a",{children:w.text})})}}}]);
