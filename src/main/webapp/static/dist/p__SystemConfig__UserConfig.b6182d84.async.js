(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[206],{64317:function(X,A,u){"use strict";var S=u(67294),T=u(94573),b=u(22270),$=u(64893);function m(){return m=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},m.apply(this,arguments)}function v(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,t)}return r}function M(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v(Object(r),!0).forEach(function(t){W(n,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}function W(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var I=S.forwardRef(function(n,e){var r=n.fieldProps,t=n.children,a=n.params,o=n.proFieldProps,d=n.mode,h=n.valueEnum,C=n.request,y=n.showSearch,w=n.options;return S.createElement(T.ZP,m({mode:"edit",valueEnum:(0,b.h)(h),request:C,params:a,valueType:"select",fieldProps:M({options:w,mode:d,showSearch:y},r),ref:e},o),t)}),l=S.forwardRef(function(n,e){var r=n.fieldProps,t=n.children,a=n.params,o=n.proFieldProps,d=n.mode,h=n.valueEnum,C=n.request,y=n.options,w=M({options:y,mode:d||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},r);return S.createElement(T.ZP,m({mode:"edit",valueEnum:(0,b.h)(h),request:C,params:a,valueType:"select",fieldProps:w,ref:e},o),t)}),R=(0,$.Z)(I,{customLightMode:!0}),V=(0,$.Z)(l,{customLightMode:!0}),U=R;U.SearchSelect=V,A.Z=U},5966:function(X,A,u){"use strict";var S=u(67294),T=u(94573),b=u(64893),$=["fieldProps","proFieldProps"];function m(){return m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},m.apply(this,arguments)}function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,a)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?v(Object(t),!0).forEach(function(a){W(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function W(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function I(e,r){if(e==null)return{};var t=l(e,r),a,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)a=d[o],!(r.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(t[a]=e[a]))}return t}function l(e,r){if(e==null)return{};var t={},a=Object.keys(e),o,d;for(d=0;d<a.length;d++)o=a[d],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var R="text",V=(0,b.Z)(function(e){var r=e.fieldProps,t=e.proFieldProps,a=I(e,$);return S.createElement(T.ZP,m({mode:"edit",valueType:R,fieldProps:M(M({},r),{},{onChange:function(){for(var d,h,C=arguments.length,y=new Array(C),w=0;w<C;w++)y[w]=arguments[w];r==null||(d=r.onChange)===null||d===void 0||d.call.apply(d,[r].concat(y)),a==null||(h=a.onChange)===null||h===void 0||h.call.apply(h,[a].concat(y))}})},t))},{valueType:R}),U=(0,b.Z)(function(e){var r=e.fieldProps,t=e.proFieldProps;return S.createElement(T.ZP,m({mode:"edit",valueType:"password",fieldProps:r},t))},{valueType:R}),n=V;n.Password=U,A.Z=n},80398:function(X,A,u){"use strict";u.r(A),u.d(A,{default:function(){return te}});var S=u(57663),T=u(71577),b=u(2824),$=u(34792),m=u(48086),v=u(3182),M=u(62350),W=u(75443),I=u(94043),l=u.n(I),R=u(49101),V=u(75362),U=u(19595),n=u(67294),e=u(11849),r=u(9715),t=u(86585),a=u(37476),o=u(5966),d=u(64317),h=u(48971);function C(c){return y.apply(this,arguments)}function y(){return y=(0,v.Z)(l().mark(function c(i){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,h.WY)("/algz/user/users",{params:i}));case 1:case"end":return s.stop()}},c)})),y.apply(this,arguments)}function w(c){return z.apply(this,arguments)}function z(){return z=(0,v.Z)(l().mark(function c(i){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,h.WY)("/algz/user/user",{params:i}));case 1:case"end":return s.stop()}},c)})),z.apply(this,arguments)}function k(c){return Y.apply(this,arguments)}function Y(){return Y=(0,v.Z)(l().mark(function c(i){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,h.WY)("/algz/user/saveuser",{method:"POST",requestType:"form",data:i}));case 1:case"end":return s.stop()}},c)})),Y.apply(this,arguments)}function q(c){return G.apply(this,arguments)}function G(){return G=(0,v.Z)(l().mark(function c(i){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,h.WY)("/algz/user/deluser",{method:"POST",requestType:"form",data:i}));case 1:case"end":return s.stop()}},c)})),G.apply(this,arguments)}function _(c){return N.apply(this,arguments)}function N(){return N=(0,v.Z)(l().mark(function c(i){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,h.WY)("/algz/user/rolesforselectmap",{params:i}));case 1:case"end":return s.stop()}},c)})),N.apply(this,arguments)}var P=u(85893),ee=function(i){var Z=(0,n.useState)(!0),s=(0,b.Z)(Z,2),L=s[0],B=s[1],H=t.Z.useForm(),K=(0,b.Z)(H,1),x=K[0];return(0,P.jsxs)(a.Z,{form:x,title:"\u7528\u6237\u7A97\u53E3",width:"800px",layout:"horizontal",labelCol:{span:4},wrapperCol:{span:14},modalProps:{onCancel:function(){var D=(0,v.Z)(l().mark(function E(){return l().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:case"end":return g.stop()}},E)}));function F(){return D.apply(this,arguments)}return F}()},visible:i.modalVisible,onVisibleChange:function(){var D=(0,v.Z)(l().mark(function F(E){var f;return l().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!E){p.next=10;break}if(x.resetFields(),B(!1),i.currentRecord==null){p.next=10;break}return B(!0),p.t0=x,p.next=8,w({userid:(f=i.currentRecord)===null||f===void 0?void 0:f.userid});case 8:p.t1=p.sent,p.t0.setFieldsValue.call(p.t0,p.t1);case 10:i.onVisibleChange(E);case 11:case"end":return p.stop()}},F)}));return function(F){return D.apply(this,arguments)}}(),onFinish:function(){var D=(0,v.Z)(l().mark(function F(E){var f,g;return l().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return f=m.default.loading("\u6B63\u5728\u63D0\u4EA4"),O.prev=1,O.next=4,k((0,e.Z)((0,e.Z)({},E),{},{userid:(g=i.currentRecord)===null||g===void 0?void 0:g.userid}));case 4:f(),m.default.success("\u63D0\u4EA4\u6210\u529F\uFF01"),i.onVisibleChange(!1),i.updateParentTable(),O.next=14;break;case 10:O.prev=10,O.t0=O.catch(1),f(),m.default.error("\u63D0\u4EA4\u5931\u8D25,\u8BF7\u518D\u8BD5\u4E00\u6B21\uFF01");case 14:case"end":return O.stop()}},F,null,[[1,10]])}));return function(F){return D.apply(this,arguments)}}(),initialValues:{},children:[(0,P.jsx)(o.Z,{fieldProps:{disabled:L},name:"username",label:"\u7528\u6237\u540D\u79F0\uFF1A",width:"md",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",rules:[{required:!0}]}),(0,P.jsx)(o.Z,{name:"name",label:"\u6635\u79F0\uFF1A",width:"md",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u540D\u79F0"}),(0,P.jsx)(o.Z.Password,{name:"password",label:"\u5BC6\u7801\uFF1A",width:"md",rules:[{required:!L}]}),(0,P.jsx)(d.Z,{name:"authoritienName",label:"\u89D2\u8272\uFF1A",request:_,placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272!"}]})]})},re=ee,te=function(){var c=function(f,g,p){return(0,P.jsx)(W.Z,{title:"\u662F\u5426".concat(f,"\u8FD9\u6761\u8BB0\u5F55\uFF1F"),onConfirm:function(){return p(g)},okText:"\u662F",cancelText:"\u5426",children:(0,P.jsx)("a",{children:f})},"popconfirm1")},i=[{dataIndex:"userid",valueType:"indexBorder",width:48},{title:"\u767B\u5F55\u540D",dataIndex:"username"},{title:"\u6635\u79F0",dataIndex:"name"},{title:"\u89D2\u8272",dataIndex:"authoritieDesc",valueType:"textarea"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createDate",valueType:"textarea"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(f,g){return[(0,P.jsx)("a",{onClick:function(){B(!0),D(g)},children:"\u7F16\u8F91"},"editor"),c("\u5220\u9664",g,function(){var p=(0,v.Z)(l().mark(function O(ne){var J,Q;return l().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return J=m.default.loading("\u6B63\u5728\u5220\u9664"),j.prev=1,j.next=4,q({userid:ne.userid});case 4:return J(),m.default.success("\u5220\u9664\u6210\u529F\uFF01"),(Q=F.current)===null||Q===void 0||Q.reload(),j.abrupt("return",!0);case 10:return j.prev=10,j.t0=j.catch(1),J(),m.default.error("\u5220\u9664\u5931\u8D25,\u8BF7\u518D\u8BD5\u4E00\u6B21\uFF01"),j.abrupt("return",!1);case 15:case"end":return j.stop()}},O,null,[[1,10]])}));return function(O){return p.apply(this,arguments)}}())]}}],Z=(0,n.useState)(!1),s=(0,b.Z)(Z,2),L=s[0],B=s[1],H=(0,n.useState)(),K=(0,b.Z)(H,2),x=K[0],D=K[1],F=(0,n.useRef)();return(0,P.jsxs)(V.ZP,{children:[(0,P.jsx)(U.ZP,{actionRef:F,columns:i,rowKey:"userid",request:C,search:!1,toolBarRender:function(){return[(0,P.jsxs)(T.Z,{type:"primary",onClick:function(){B(!0),D(null)},children:[(0,P.jsx)(R.Z,{})," \u65B0\u5EFA"]},"primary")]}}),(0,P.jsx)(re,{modalVisible:L,onVisibleChange:B,currentRecord:x,updateParentTable:function(){var f;return(f=F.current)===null||f===void 0?void 0:f.reload()}})]})}}}]);
